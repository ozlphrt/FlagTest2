<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport"
		content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
	<meta name="theme-color" content="#0b0f14" />
	<meta name="mobile-web-app-capable" content="yes" />
	<link rel="apple-touch-icon" href="icons/192.png">
	<link rel="manifest" href="manifest.json" />
	<title>FlagTest â€” Sorting Game</title>
	<style>
		html,
		body {
			margin: 0;
			padding: 0;
			height: 100%;
			background: #0b0f14;
			color: #e6edf3;
			font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
			overflow: hidden;
			touch-action: none;
		}

		canvas {
			display: block;
		}
	</style>
  <script type="module" crossorigin src="./assets/index-C66Vbv9_.js"></script>
</head>
<script>
	// V1.3.0 Inline Bootstrapper
	(function () {
		const CURRENT_VERSION = 'v1.3.0';

		async function wipeAndReload() {
			console.warn("VERSION MISMATCH: Wiping everything and hard reloading...");
			if ('serviceWorker' in navigator) {
				const regs = await navigator.serviceWorker.getRegistrations();
				for (const r of regs) await r.unregister();
			}
			if ('caches' in window) {
				const keys = await caches.keys();
				for (const k of keys) await caches.delete(k);
			}
			// localStorage.clear(); // Too aggressive? Let's keep progress for now unless requested.
			window.location.href = window.location.origin + window.location.pathname + '?v=' + Date.now();
		}

		fetch('./version.json?t=' + Date.now())
			.then(r => r.json())
			.then(data => {
				if (data.version && data.version !== CURRENT_VERSION) {
					wipeAndReload();
				}
			})
			.catch(e => console.error("Boot version check failed", e));
	})();
</script>

<body>

</body>

</html>